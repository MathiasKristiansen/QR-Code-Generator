import os
import qrcode
from qrcode.image.svg import SvgImage

def generate_qr(data, base_filename, box_size=10, border=4):
    qr = qrcode.QRCode(
        version=1,
        error_correction=qrcode.constants.ERROR_CORRECT_L,
        box_size=box_size,
        border=border,
    )
    qr.add_data(data)
    qr.make(fit=True)

    # Save to the Downloads directory
    downloads_folder = os.path.join(os.path.expanduser("~"), "Downloads")

    # For PNG
    png_filename = os.path.join(downloads_folder, base_filename + '.png')
    img_png = qr.make_image(fill_color="black", back_color="white")
    img_png.save(png_filename)

    # For SVG
    svg_filename = os.path.join(downloads_folder, base_filename + '.svg')
    img_svg = qr.make_image(image_factory=SvgImage, fill_color="black", back_color="white")
    img_svg.save(svg_filename)

    print(f"Files saved to Downloads as {base_filename}.png and {base_filename}.svg")

if __name__ == "__main__":
    data = input("Enter the data for the QR code: ")
    filename = input("Enter the desired filename (without extension): ")
    generate_qr(data, filename)
